<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<style type = "text/css">
html
{
		overflow:auto;
		height:100%;
		min-height:100%;
		background-color: #ffffff;
}
body{

	color: #000000;
	margin:0px;
	padding:0px;
	min-height:100%;
}
</style>
<script type = "text/javascript" src = "Scripts/bootstrap.jsp"></script>
<script type = "text/javascript" src = "/HemiFramework/Hemi/hemi.comp.js"></script>
<script type = "text/javascript">
function doLogout(){
	Hemi.xml.getJSON("/AccountManagerService/rest/logout",function(s,v){
		
	},1);
}
function doGoLogin(){
	location.href = "/AccountManagerService/Protected/";
}
function doLogin(){
	var cred = new org.cote.objects.credentialType();
	cred.name = "test@foo.bar";
	cred.credential = Base64.encode("password");
	cred.organizationPath = "/FirstContact";
	cred.credentialType = "HASHED_PASSWORD";
	Hemi.xml.postJSON("/AccountManagerService/rest/login",cred,function(s,v){
		//alert(v);
		doGoLogin();
	},1);
}
(function(){
	if(!window.uwmServices){
		window.uwmServices = uwmServices = Hemi.json.rpc.service;
		window.uwmServiceCache = uwmServiceCache = Hemi.json.rpc.cache.service;
	}
	uwmServices.addService(
			"AMSchema",
			"/AccountManagerService/rest/schema/smd",
			true,
			true,
			false
		);
	/*
	uwmServices.addService(
			"Principal",
			"/AccountManagerService/rest/principal/smd",
			true,
			true,
			false
		);
	uwmServices.addService(
			"Logout",
			"/AccountManagerService/rest/logout/smd",
			true,
			true,
			false
		);
	uwmServices.addService(
			"Login",
			"/AccountManagerService/rest/login/smd",
			true,
			true,
			false
		);
*/
}());
</script>
<!-- 
<script type = "text/javascript">
(function(){
		if(!window.g_application_path) window.g_application_path = "/AccountManagerService";
		if(!window.HemiConfig) window.HemiConfig = {};
		if(!window.HemiConfig.hemi_base) window.HemiConfig.hemi_base = "/HemiFramework/Hemi/";
})();
</script>
-->
</head>
<body>
<h1>Account Manager Service</h1>
<div template = "Templates/ToolBar.xml"></div>
<p><input type = "button" value = "Go Login" onclick = "doGoLogin()" /></p>
<p><input type = "button" value = "Login" onclick = "doLogin()" /></p>
<p><input type = "button" value = "Logout" onclick = "doLogout()" /></p>
</body>
</html>