<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
   		<link rel="stylesheet" href="/AccountManagerService/Style/uwm.css" type="text/css" title = "uwm" />
   		<link rel="stylesheet" href="/AccountManagerService/Style/rocket.css" type="text/css" />
<script type = "text/javascript" src = "../Scripts/bootstrap.jsp"></script>
<!-- 
<script type = "text/javascript" src = "/HemiFramework/Hemi/hemi.comp.js"></script>
-->

<script type = "text/javascript">
function doLogout(){
	AM6Client.logout(function(){location.href = "/AccountManagerService/";});
}
function doGallery(){
	var sTxt = Hemi.xml.getText("/AccountManagerService/Scripts/canvasGallery.js");
	eval(sTxt);
}
function selectGroup(){
	var sForm = document.querySelector("#selectGroup").value;
	var oS = Hemi.app.space.service.getPrimarySpace();
	var oA = oS.getSpaceObjectByName("main").object.getApplicationComponent();
	oA.loadTemplate("/AccountManagerService/Templates/" + sForm + "Main.xml");
}

(function(){
	if(!window.uwmServices){
		window.uwmServices = uwmServices = Hemi.json.rpc.service;
		window.uwmServiceCache = uwmServiceCache = Hemi.json.rpc.cache.service;
	}
	uwmServices.addService(
			"AMSchema",
			"/AccountManagerService/rest/schema/smd",
			true,
			true,
			false
		);

}());
</script>
</head>
<body>
<h1>Protected Account Manager Service</h1>
<div template = "/AccountManagerService/Forms/MainIn.xml"></div>
<p><input type = "button" value = "Gallery" onclick = "doGallery()" /></p>
<p><input type = "button" value = "Logout" onclick = "doLogout()" /></p>
<p><span template = "/AccountManagerService/Templates/SelectCommunity.xml"></span> <select id = "selectGroup" onchange = "selectGroup()"><option>Business</option><option>Event</option><option>Form</option><option>Identity</option><option>Method</option><option selected = "true">Policy</option><option>Project</option><option>Resource</option></select></p>
<div id = "main" template = "/AccountManagerService/Templates/PolicyMain.xml">
</div>

</body>
</html>